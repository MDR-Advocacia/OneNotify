2025-09-25 09:25:01,196 [INFO] - ============================================================
2025-09-25 09:25:01,196 [INFO] - INICIANDO NOVA EXECUÇÃO DA RPA
2025-09-25 09:25:01,196 [INFO] - ============================================================
2025-09-25 09:25:01,412 [INFO] - 
FASE 1: LOGIN E CONFIGURAÇÃO DA SESSÃO
2025-09-25 09:25:16,038 [INFO] - 
FASE 2: EXTRAÇÃO DE NOVAS NOTIFICAÇÕES E REGISTRO DE CIÊNCIA
2025-09-25 09:25:16,039 [INFO] - Iniciando módulo de extração e ciência...
2025-09-25 09:25:16,039 [INFO] - Navegando para a Central de Notificações...
2025-09-25 09:25:17,389 [INFO] - Acessando a 'Visão do Advogado'...
2025-09-25 09:25:18,072 [INFO] - --- Processando tarefa: Andamento de publicação em processo de condução terceirizada ---
2025-09-25 09:25:18,082 [WARNING] - Tarefa 'Andamento de publicação em processo de condução terceirizada' não encontrada na lista principal. Pulando.
2025-09-25 09:25:18,082 [INFO] - --- Processando tarefa: Doc. anexado por empresa externa em processo terceirizado ---
2025-09-25 09:25:18,086 [INFO] - 20 itens encontrados. Abrindo detalhes...
2025-09-25 09:25:18,939 [INFO] -     - Verificando página 1...
2025-09-25 09:25:21,670 [INFO] -     - Navegando para a próxima página de detalhes...
2025-09-25 09:25:21,974 [INFO] -     - Verificando página 2...
2025-09-25 09:25:22,056 [INFO] -     - Navegando para a próxima página de detalhes...
2025-09-25 09:25:52,061 [ERROR] - Falha crítica ao processar a tarefa 'Doc. anexado por empresa externa em processo terceirizado': Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("[id*=\":dataTabletableNotificacoesNaoLidas\"]").locator("tfoot").locator("td.rich-datascr-button:not(.dsbld)[onclick*=\"page': 'next'\"]")
    - locator resolved to <td class=" rich-datascr-button" onclick="Event.fire(this, 'rich:datascroller:onscroll', {'page': 'next'});"></td>
  - attempting click action
    2 × waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <div class="rich-mpnl-mask-div-opaque rich-mpnl-mask-div" id="notificacoesNaoLidasForm:ajaxLoadingModalBoxDiv">…</div> from <div class="rich-modalpanel" id="notificacoesNaoLidasForm:ajaxLoadingModalBoxContainer">…</div> subtree intercepts pointer events
    - retrying click action
    - waiting 20ms
    - waiting for element to be visible, enabled and stable
  - element was detached from the DOM, retrying
Traceback (most recent call last):
  File "/Users/rildonpimentelpereira/GitHub/OneNotify/modulo_notificacoes.py", line 82, in extrair_dados_e_dar_ciencia_em_lote
    botao_proxima.click()
  File "/Users/rildonpimentelpereira/GitHub/OneNotify/venv/lib/python3.9/site-packages/playwright/sync_api/_generated.py", line 15543, in click
    self._sync(
  File "/Users/rildonpimentelpereira/GitHub/OneNotify/venv/lib/python3.9/site-packages/playwright/_impl/_sync_base.py", line 115, in _sync
    return task.result()
  File "/Users/rildonpimentelpereira/GitHub/OneNotify/venv/lib/python3.9/site-packages/playwright/_impl/_locator.py", line 160, in click
    return await self._frame.click(self._selector, strict=True, **params)
  File "/Users/rildonpimentelpereira/GitHub/OneNotify/venv/lib/python3.9/site-packages/playwright/_impl/_frame.py", line 549, in click
    await self._channel.send("click", self._timeout, locals_to_params(locals()))
  File "/Users/rildonpimentelpereira/GitHub/OneNotify/venv/lib/python3.9/site-packages/playwright/_impl/_connection.py", line 69, in send
    return await self._connection.wrap_api_call(
  File "/Users/rildonpimentelpereira/GitHub/OneNotify/venv/lib/python3.9/site-packages/playwright/_impl/_connection.py", line 558, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("[id*=\":dataTabletableNotificacoesNaoLidas\"]").locator("tfoot").locator("td.rich-datascr-button:not(.dsbld)[onclick*=\"page': 'next'\"]")
    - locator resolved to <td class=" rich-datascr-button" onclick="Event.fire(this, 'rich:datascroller:onscroll', {'page': 'next'});"></td>
  - attempting click action
    2 × waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <div class="rich-mpnl-mask-div-opaque rich-mpnl-mask-div" id="notificacoesNaoLidasForm:ajaxLoadingModalBoxDiv">…</div> from <div class="rich-modalpanel" id="notificacoesNaoLidasForm:ajaxLoadingModalBoxContainer">…</div> subtree intercepts pointer events
    - retrying click action
    - waiting 20ms
    - waiting for element to be visible, enabled and stable
  - element was detached from the DOM, retrying

2025-09-25 09:25:52,065 [INFO] - Tarefa 'Doc. anexado por empresa externa em processo terceirizado' finalizada. 9 novas notificações salvas. 10 ciências registradas.
2025-09-25 09:25:52,065 [INFO] - --- Processando tarefa: Inclusão de Documentos no NPJ ---
2025-09-25 09:25:52,080 [INFO] - 170 itens encontrados. Abrindo detalhes...
2025-09-25 09:25:52,116 [INFO] -     - Verificando página 1...
2025-09-25 09:25:56,402 [INFO] -     - Navegando para a próxima página de detalhes...
2025-09-25 09:25:56,707 [INFO] -     - Verificando página 2...
2025-09-25 09:25:56,802 [INFO] -     - Navegando para a próxima página de detalhes...
2025-09-25 09:25:56,936 [INFO] -     - Verificando página 3...
2025-09-25 09:26:00,226 [INFO] -     - Navegando para a próxima página de detalhes...
2025-09-25 09:26:00,527 [INFO] -     - Verificando página 4...
2025-09-25 09:26:00,621 [INFO] -     - Navegando para a próxima página de detalhes...
2025-09-25 09:26:00,769 [INFO] -     - Verificando página 5...
2025-09-25 09:26:03,858 [INFO] -     - Navegando para a próxima página de detalhes...
2025-09-25 09:26:04,165 [INFO] -     - Verificando página 6...
2025-09-25 09:26:04,246 [INFO] -     - Navegando para a próxima página de detalhes...
2025-09-25 09:26:04,402 [INFO] -     - Verificando página 7...
2025-09-25 09:26:07,533 [INFO] -     - Navegando para a próxima página de detalhes...
2025-09-25 09:26:07,842 [INFO] -     - Verificando página 8...
2025-09-25 09:26:07,927 [INFO] -     - Navegando para a próxima página de detalhes...
2025-09-25 09:26:08,086 [INFO] -     - Verificando página 9...
2025-09-25 09:26:11,313 [INFO] -     - Navegando para a próxima página de detalhes...
2025-09-25 09:26:11,619 [INFO] -     - Verificando página 10...
2025-09-25 09:26:11,702 [INFO] -     - Navegando para a próxima página de detalhes...
2025-09-25 09:26:11,964 [INFO] -     - Verificando página 11...
2025-09-25 09:26:15,026 [INFO] -     - Navegando para a próxima página de detalhes...
2025-09-25 09:26:15,303 [INFO] -     - Verificando página 12...
2025-09-25 09:26:15,396 [INFO] -     - Navegando para a próxima página de detalhes...
2025-09-25 09:26:15,665 [INFO] -     - Verificando página 13...
2025-09-25 09:26:18,858 [INFO] -     - Navegando para a próxima página de detalhes...
2025-09-25 09:26:19,161 [INFO] -     - Verificando página 14...
2025-09-25 09:26:19,249 [INFO] -     - Navegando para a próxima página de detalhes...
2025-09-25 09:26:19,402 [INFO] -     - Verificando página 15...
2025-09-25 09:26:22,570 [INFO] -     - Navegando para a próxima página de detalhes...
2025-09-25 09:26:22,874 [INFO] -     - Verificando página 16...
2025-09-25 09:26:22,958 [INFO] -     - Navegando para a próxima página de detalhes...
2025-09-25 09:26:52,961 [ERROR] - Falha crítica ao processar a tarefa 'Inclusão de Documentos no NPJ': Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("[id*=\":dataTabletableNotificacoesNaoLidas\"]").locator("tfoot").locator("td.rich-datascr-button:not(.dsbld)[onclick*=\"page': 'next'\"]")
    - locator resolved to <td class=" rich-datascr-button" onclick="Event.fire(this, 'rich:datascroller:onscroll', {'page': 'next'});"></td>
  - attempting click action
    2 × waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <div class="rich-mpnl-mask-div-opaque rich-mpnl-mask-div" id="notificacoesNaoLidasForm:ajaxLoadingModalBoxDiv">…</div> from <div class="rich-modalpanel" id="notificacoesNaoLidasForm:ajaxLoadingModalBoxContainer">…</div> subtree intercepts pointer events
    - retrying click action
    - waiting 20ms
    - waiting for element to be visible, enabled and stable
  - element was detached from the DOM, retrying
Traceback (most recent call last):
  File "/Users/rildonpimentelpereira/GitHub/OneNotify/modulo_notificacoes.py", line 82, in extrair_dados_e_dar_ciencia_em_lote
    botao_proxima.click()
  File "/Users/rildonpimentelpereira/GitHub/OneNotify/venv/lib/python3.9/site-packages/playwright/sync_api/_generated.py", line 15543, in click
    self._sync(
  File "/Users/rildonpimentelpereira/GitHub/OneNotify/venv/lib/python3.9/site-packages/playwright/_impl/_sync_base.py", line 115, in _sync
    return task.result()
  File "/Users/rildonpimentelpereira/GitHub/OneNotify/venv/lib/python3.9/site-packages/playwright/_impl/_locator.py", line 160, in click
    return await self._frame.click(self._selector, strict=True, **params)
  File "/Users/rildonpimentelpereira/GitHub/OneNotify/venv/lib/python3.9/site-packages/playwright/_impl/_frame.py", line 549, in click
    await self._channel.send("click", self._timeout, locals_to_params(locals()))
  File "/Users/rildonpimentelpereira/GitHub/OneNotify/venv/lib/python3.9/site-packages/playwright/_impl/_connection.py", line 69, in send
    return await self._connection.wrap_api_call(
  File "/Users/rildonpimentelpereira/GitHub/OneNotify/venv/lib/python3.9/site-packages/playwright/_impl/_connection.py", line 558, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator("[id*=\":dataTabletableNotificacoesNaoLidas\"]").locator("tfoot").locator("td.rich-datascr-button:not(.dsbld)[onclick*=\"page': 'next'\"]")
    - locator resolved to <td class=" rich-datascr-button" onclick="Event.fire(this, 'rich:datascroller:onscroll', {'page': 'next'});"></td>
  - attempting click action
    2 × waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <div class="rich-mpnl-mask-div-opaque rich-mpnl-mask-div" id="notificacoesNaoLidasForm:ajaxLoadingModalBoxDiv">…</div> from <div class="rich-modalpanel" id="notificacoesNaoLidasForm:ajaxLoadingModalBoxContainer">…</div> subtree intercepts pointer events
    - retrying click action
    - waiting 20ms
    - waiting for element to be visible, enabled and stable
  - element was detached from the DOM, retrying

2025-09-25 09:26:52,967 [INFO] - Tarefa 'Inclusão de Documentos no NPJ' finalizada. 0 novas notificações salvas. 76 ciências registradas.
2025-09-25 09:26:52,967 [INFO] - Extração/ciência concluídas. Salvas: 9, Ciências: 86.
2025-09-25 09:26:52,968 [INFO] - 
FASE 3: PROCESSAMENTO DETALHADO EM LOTES
2025-09-25 09:26:52,969 [INFO] - Nenhum NPJ pendente para detalhamento.
2025-09-25 09:26:52,969 [INFO] - Finalizando a automação e fechando o navegador.
2025-09-25 09:26:52,998 [INFO] - 
--- RESUMO DA EXECUÇÃO ---
2025-09-25 09:26:52,999 [INFO] - Timestamp: 2025-09-25 09:26:52
2025-09-25 09:26:52,999 [INFO] - Duracao Total: 111.8
2025-09-25 09:26:52,999 [INFO] - Tempo Medio Npj: 0
2025-09-25 09:26:52,999 [INFO] - Notificacoes Salvas: 9
2025-09-25 09:26:52,999 [INFO] - Ciencias Registradas: 86
2025-09-25 09:26:52,999 [INFO] - Andamentos: 0
2025-09-25 09:26:52,999 [INFO] - Documentos: 0
2025-09-25 09:26:52,999 [INFO] - Sucesso: 0
2025-09-25 09:26:52,999 [INFO] - Falha: 0
2025-09-25 09:26:52,999 [INFO] - ============================================================
2025-09-25 09:26:52,999 [INFO] - Execução finalizada. Log completo em: logs/log_2025-09-25_09-25-01.txt
